.dj-audio {
  --dj-aduio-color: var(--black);
  --dj-audio-background-color: #f1f1f2;
  --dj-audio-progress-color: rgba(60, 60, 67, 0.15);
  --dj-audio-current-progress-color: #b80d57;
  --dj-audio-buffer-color: rgba(33, 37, 41, 0.15);
  --dj-audio-border-color: var(--border-color);
  --dj-audio-border-focus-color: rgba(60, 60, 67, 0.33);
  position: relative;
  width: 100%;

  .dj-audio__wrapper {
    @gap: 4px;
    position: relative;
    display: flex;
    flex-direction: row;
    padding: @gap;
    width: 100%;
    height: 34px;
    line-height: 1.5;
    color: var(--black);
    font-size: 12px;
    background-color: var(--dj-audio-background-color);
    border-radius: var(--border-radius);
    transform: translateZ(0);
    transition: box-shadow 0.25s;
    box-shadow: 0 0 0 1px var(--dj-audio-border-color) inset;

    .dj-audio-button__wrapper {
      @buttonSize: 20px;
      @gap: 4px;
      flex-shrink: 0;
      padding: @gap;
      color: var(--dj-aduio-color);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: @gap;
      -webkit-user-select: none;
      user-select: none;
      -webkit-user-drag: none;

      .dj-audio-button__play {
        color: inherit;
        display: inline-flex;
        transition: opacity 0.25s;

        &:active {
          transform-origin: center;
          opacity: 0.75;

          .icon {
            transform: scale(0.75);
          }
        }

        .icon {
          width: @buttonSize;
          height: @buttonSize;
          color: inherit;
          will-change: transform;
          transition: transform 0.25s;
        }
      }

      .dj-audio-volume__inner {
        margin-left: 20px;
        display: inline-flex;
        gap: @gap;

        .dj-audio-volume__progress {
          display: inline-flex;
        }
      }
    }

    .dj-audio-progress__wrapper {
      @progressTime: 0.75s;
      @radius: 0.1rem;
      flex-grow: 1;
      gap: @gap;
      position: relative;
      display: flex;
      flex-direction: row;
      flex-wrap: nowrap;
      align-items: center;

      .dj-audio-progress__start-time,
      .dj-audio-progress__end-time {
        flex-shrink: 0;
        display: inline-flex;
        justify-content: center;
        min-width: 40px;
        color: rgba(60, 60, 67, 0.75);
        font-size: 12px;
        font-weight: 500;
        line-height: 1;
        will-change: color, opacity;
        opacity: 0;
        animation: progressTimeAnimation @progressTime 1 forwards;
        transition: opacity 0.25s;
        z-index: 20;
      }

      .dj-audio-progress__end-time {
        animation-delay: calc(@progressTime - 0.25s);

        .icon {
          -webkit-user-select: none;
          user-select: none;
          width: 32px;
          height: 32px;
          color: inherit;
        }
      }

      .dj-audio-progress__inner {
        @barHeight: 6px;
        position: relative;
        width: 0;
        height: @barHeight;
        border-radius: @radius;
        background-color: var(--dj-audio-progress-color);
        cursor: pointer;
        overflow: hidden;
        -webkit-user-select: none;
        user-select: none;
        -webkit-user-drag: none;
        will-change: width;
        opacity: 0;
        animation: progressInnerAnimation @progressTime 1 forwards;

        .dj-audio-process__audio {
          display: none;
        }

        .dj-audio-buffered__bar {
          @current-buffer-color: var(--dj-audio-buffer-color),
            var(--dj-audio-buffer-color);
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: -webkit-linear-gradient(@current-buffer-color) no-repeat;
          background-size: var(--buffer-value) 100%;
          transition: background-size 0.25s;
          z-index: 5;
        }

        input {
          @current-progress-color: var(--dj-audio-current-progress-color),
            var(--dj-audio-current-progress-color);
          position: absolute;
          top: 0;
          left: 0;
          -webkit-appearance: none;
          appearance: none;
          margin: 0;
          padding: 0;
          width: 100%;
          height: 100%;
          background: none;
          cursor: pointer;
          z-index: 10;

          &::-webkit-slider-thumb {
            opacity: 0;
            z-index: -1;
          }

          &::-webkit-slider-runnable-track {
            height: 100%;
            background: -webkit-linear-gradient(@current-progress-color)
              no-repeat;
            background-size: var(--progress-value) 100%;
          }
        }
      }
    }
  }

  .dj-audio__wrapper.is-play {
    box-shadow: 0 0 0 1px var(--dj-audio-border-focus-color) inset;
  }
}

@keyframes progressInnerAnimation {
  100% {
    opacity: 1;
    width: 100%;
  }
}

@keyframes progressTimeAnimation {
  100% {
    opacity: 1;
  }
}
